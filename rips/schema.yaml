
# ISA Supported
ISA: 
    type: string
    regex: '^RV[0-9]{2}[ACDEFGIMNQSUX]*'
    required: True

# Version number of User Level ISA specification
User_Spec_Version:
    type: float
    allowed: [2.2, 2.3]
    default: 2.2

# Version number of Privileged Architecture specification
Privilege_Spec_Version:
    type: float
    allowed: [1.10, 1.11]
    default: 1.10

# MISA Features
MISA_MXL:
    type: list
    allowed: [1,  2,  3]
    default: []  

MISA_A:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_C:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_D:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_F:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_G:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_I:
    type: list
    allowed: [1]
    default: [1]

MISA_M:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_N:
    type: list
    allowed: [0, 1]
    default: [0] 

MISA_Q:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_S:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_U:
    type: list
    allowed: [0, 1]
    default: [0]

MISA_X:
    type: list
    allowed: [0, 1]
    default: [0]

# ================================================================
# Values of read-only Machine-level CSRs mvendorid, marchid, mimpid, hartids

Vendorid:
    type: integer
    regex: ^0x

Archid:
    type: integer
    regex: ^0x

Impid:
    type: string
    regex: ^0x

Hartids:
    type: list
    default: [0]

## ================================================================
## Features: MSTATUS fields

MSTATUS_MPP:
    type: dict
    schema:
        bitmask:
            type: dict
            excludes: [distinct, range]
            required: True
            schema:
                base:
                    type: integer
                    allowed: [0, 1, 2, 3]
                mask:
                    type: integer
                    allowed: [0, 1, 2, 3]
        distinct:
            type: dict
            excludes: [bitmask, range]
            required: True
            schema:
                values:
                    type: list
                    schema:
                        type: integer
                        allowed: [0, 1, 2, 3]
                modes:
                    type: string
                    allowed: ['unchanged', 'saturate_s', 'saturate_l','next_l', 'next_s']
        range:
            type: dict
            excludes: [bitmask, distinct]
            required: True
            schema:
                base:
                    type: integer
                    allowed: [0, 1, 2, 3]
                bound: 
                    type: integer
                    allowed: [0, 1, 2, 3]
                mode:
                    type: string
                    allowed: ['saturate', 'unchanged']
    default:
        distinct:
            values: [0,3]
            modes: 'unchanged'

MSTATUS_SXL:
    type: list
    allowed: [1,  2,  3]
    default: []

MSTATUS_UXL:
    type: list
    allowed: [1,  2,  3]
    default: []
# TODO: TW and XS as per nikhil's def


## ================================================================
## Features: MTVEC WARL functions
#MTVEC_BASE:
#    type: dict
#    schema:
#      readonly:
#        type: integer
#        excludes: [range , distinct]
#        required: True
#      range:
#          type: list
#          schema:
#              type: dict
#              valueschema:
#                type: integer
#          excludes: [readonly, distinct]
#          required: True
#      distinct:
#          type: list
#          valueschema:
#              type: integer
#          excludes: [readonly, range]
#          required: True
#    default:
#        range:
#          - base: 0x0
#            bound: 0xFFFFFFFF
#
## ================================================================
## Features: MIDELEG and MEDELEG WARL functions

# This field will specify which of the interrupts in the machine mode
# can delegated to a lower level privilege. A 0-bit indicates that
# particular interrupt cannot be delegated.
MIDELEG:
    type: integer
    max: 0xFFF
    default: 0xFFF


# This field will specify which of the exceptions in the machine mode
# can delegated to a lower level privilege. A 0-bit indicates that
# particular exception cannot be delegated.
MEDELEG:
    type: integer
    default: 0x7FF

## ================================================================
## Features: MIP and MIE WARL functions

# This field will describe all valid bits of MIP register which can be 
# interpreted as Interrupts by the system in Machine Mode.
MIP:
  type: integer
  default: 0xFFF
  max: 0xFFF

# This field will describe all valid bits of MIE register which can be 
# used to enable or disable Interrupts in Machine Mode.
MIE:
  type: integer
  max: 0xFFF

# Platform environment
# Name of the Target
USER_TARGET:
    type: string
    required: True
# Directory containing the platform specific headers
USER_ENV_DIR:
    type: string
    required: True
# Linker script to be used during compilation of test
USER_LINKER:
    type: string
    required: True
# User defined ABI to be used during compilation
USER_ABI:
    type: string
    required: True
USER_EXECUTABLE:
    type: string
    required: True

# Execution Enviornment
RISCV-PREFIX:
    type: string
    default: riscv64-unknown-elf-
    required: True
USER_SIGN:
    type: string
    required: True
USER_POST_SIM:
    type: string
    default: ''
    required: False
